(this.webpackJsonpcasino=this.webpackJsonpcasino||[]).push([[0],{123:function(e,n,t){},124:function(e,n,t){},166:function(e,n,t){"use strict";t.r(n);var c={};t.r(c),t.d(c,"setPlayers",(function(){return h}));var a=t(0),r=t.n(a),i=t(14),o=t.n(i),l=(t(123),t(39)),s=(t.p,t(124),t(42)),u=t(18),j=0,d=function(e){return Array.from(Array(e).keys())};d(5);var b=d(11).map((function(e){return{index:j++,type:"Pi\xe8ce d'or",value:.5}})),p={index:j++,type:"squelette",value:1},f=d(4).map((function(e){return{index:j++,type:"Cailloux",value:0}})),O=function(){return d(7).map((function(e,n){return{index:j++,type:"Pierre pr\xe9cieuse",value:n+1}}))},m=[].concat(Object(u.a)(b),Object(u.a)(f),Object(u.a)(O()),Object(u.a)(O()),Object(u.a)(O()),Object(u.a)(O()),[p]),h=function(e,n){e.state.players=n},x={state:{title:"Casino pirate",players:[],cards:m},actions:c},y=Object(s.e)(),g=Object(s.b)(),v=(Object(s.c)(),Object(s.d)(),t(211)),C=t(220),k=t(214),w=t(224),P=t(227),A=t(223),N=t(221),F=t(222),S=t(216),E=t(217),D=t(169),G=t(109),I=t.n(G),L=t(218),B=t(110),T=t(226),J=t(219),M=t(168),R=t(7),q=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:200}}}));var z=function(e){var n=e.player,t=(e.isDealer,q());return Object(R.jsx)(k.a,{container:!0,className:t.root,spacing:2,children:Object(R.jsx)(M.a,{className:t.paper,children:Object(R.jsx)(k.a,{children:"Player ".concat(n.name," ").concat(n.isDealer?"(DEALER)":n.isPlaying?"(PLAYING)":"")})})})},H=Object(v.a)((function(e){return{root:{flexGrow:1,margin:5,padding:5}}}));var W=function(e){var n=e.players,t=H();return Object(R.jsx)(k.a,{container:!0,className:t.root,justify:"space-between",alignItems:"center",spacing:3,children:n.map((function(e){return Object(R.jsx)(k.a,{item:!0,children:Object(R.jsx)(z,{player:e})},e.name)}))})},Y=t(108),K=t.n(Y),Q=Object(v.a)((function(e){return{root:{flexGrow:1},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var U=function(){var e=r.a.useState(!1),n=Object(l.a)(e,2),t=(n[0],n[1]),c=r.a.useState(""),i=Object(l.a)(c,2),o=(i[0],i[1]),s=Object(a.useRef)(),u=r.a.useState(!1),j=Object(l.a)(u,2),d=j[0],b=j[1],p=r.a.useState(""),f=Object(l.a)(p,2),O=f[0],m=f[1],h=Q(),x=y(),v=g(),G=r.a.useState(null),M=Object(l.a)(G,2),q=M[0],z=M[1],H=Boolean(q),Y=x.players.find((function(e){return e.name===O})),U=null===Y||void 0===Y?void 0:Y.isPlaying,V=null===Y||void 0===Y?void 0:Y.isDealer;Object(a.useEffect)((function(){var e=K()("http://localhost:8080");return s.current=e,e.on("hello",(function(e){console.log("\ud83d\ude80 ~ file: App.js ~ line 74 ~ socket.on ~ HELLO",e)})),e.on("FromAPI",(function(e){o(e)})),e.on("emtyDeck",(function(){console.log("emty deck")})),e.on("card",(function(e){console.log("\ud83d\ude80 ~ file: App.js ~ line 80 ~ socket.on ~ card",e),console.log("card",e)})),e.on("newGame",(function(e){console.log("\ud83d\ude80 ~ file: App.js ~ line 83 ~ socket.on ~ newGame",e),v.setPlayers(e)})),e.on("players",(function(e){console.log("\ud83d\ude80 ~ file: App.js ~ line 83 ~ socket.on ~ players",e),v.setPlayers(e)})),e.on("playerAlreadyExist",(function(e){alert("Le joueur ".concat(e," existe d\xe9j\xe0"))})),function(){e.disconnect(),s.current=null}}),[]);var X=function(){b(!1)},Z=function(){};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(S.a,{position:"static",children:Object(R.jsxs)(E.a,{children:[Object(R.jsx)(L.a,{edge:"start",className:h.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){z(e.currentTarget)},children:Object(R.jsx)(I.a,{})}),Object(R.jsx)(D.a,{variant:"h6",className:h.title,children:"Casino pirate"})]})}),Object(R.jsxs)(B.a,{id:"fade-menu",anchorEl:q,keepMounted:!0,open:H,onClose:function(){z(null)},TransitionComponent:J.a,children:[Object(R.jsx)(T.a,{onClick:function(){z(null),s.current.emit("newGame")},children:"Nouvelle partie"}),Object(R.jsx)(T.a,{onClick:function(){z(null),s.current.emit("chooseDealer")},children:"Choisir dealer"}),Object(R.jsx)(T.a,{onClick:function(){z(null),b(!0)},children:"Jouer"})]}),Object(R.jsxs)(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3,children:[Object(R.jsx)(k.a,{item:!0,style:{width:"100%"},children:Object(R.jsx)(W,{players:x.players})}),Object(R.jsx)(k.a,{item:!0,style:{width:"100%"},children:"Cards : ".concat(x.cards.length)}),Object(R.jsxs)(k.a,{item:!0,children:[V&&Object(R.jsx)(C.a,{variant:"contained",color:"primary",onClick:Z,children:"Nouveau duel"}),V&&Object(R.jsx)(C.a,{variant:"contained",color:"primary",onClick:Z,children:"Nouveau carte"}),!V&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){s.current.emit("newCard","ouverte")},disabled:!U,children:"Ouverte"}),Object(R.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){s.current.emit("newCard","ferme")},disabled:!U,children:"Ferm\xe9e"}),Object(R.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){s.current.emit("servi")},disabled:!U,children:"Servi"})]})]}),Object(R.jsxs)(P.a,{open:d,onClose:X,"aria-labelledby":"form-dialog-title",children:[Object(R.jsxs)(N.a,{children:[Object(R.jsx)(F.a,{children:"Entrez votre nom."}),Object(R.jsx)(w.a,{autoFocus:!0,margin:"dense",id:"name",label:"Nom du joueur",type:"text",fullWidth:!0,value:O,onChange:function(e){m(e.target.value)}})]}),Object(R.jsxs)(A.a,{children:[Object(R.jsx)(C.a,{onClick:X,color:"primary",children:"Annuler"}),Object(R.jsx)(C.a,{onClick:function(){s.current.emit("newPlayer",O),t(!0),b(!1)},color:"primary",disabled:0===O.length,children:"Ok"})]})]})]})]})},V=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,228)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),r(e),i(e)}))},X=t(25),Z=Object(X.d)(x);o.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(s.a,{value:Z,children:Object(R.jsx)(U,{})})}),document.getElementById("root")),V()}},[[166,1,2]]]);
//# sourceMappingURL=main.927aafa6.chunk.js.map